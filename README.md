# Willow Coffee Order - Telegram Mini App

## üöÄ Beta v1.0

**Willow Coffee Order** - —ç—Ç–æ Telegram –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–∫–∞–∑–∞ –∫–æ—Ñ–µ —Å —Å–∏—Å—Ç–µ–º–æ–π –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üì± **–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞** —Å –≤—ã–±–æ—Ä–æ–º –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (—Ä—É—Å—Å–∫–∏–π, —Å–µ—Ä–±—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### ‚≠ê **–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏**
- **4-–∑–Ω–∞—á–Ω—ã–µ –∫–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏** (1000-9999)
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–≤–µ–∑–¥** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
- **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–µ–∑–¥–∞–º–∏** —á–µ—Ä–µ–∑ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è
  - –§–æ—Ä–º–∞—Ç: `1234 +5` (–¥–æ–±–∞–≤–∏—Ç—å 5 –∑–≤–µ–∑–¥) –∏–ª–∏ `1234 -2` (—É–±—Ä–∞—Ç—å 2 –∑–≤–µ–∑–¥—ã)
- **–£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–≤–µ–∑–¥:
  - "üéâ –í—ã –ø–æ–ª—É—á–∏–ª–∏ 5 –∑–≤–µ–∑–¥! ‚≠ê –£ –≤–∞—Å —Ç–µ–ø–µ—Ä—å 15 –∑–≤–µ–∑–¥"
  - "‚≠ê –£ –≤–∞—Å —Å–ø–∏—Å–∞–Ω–æ 2 –∑–≤–µ–∑–¥—ã. üí´ –£ –≤–∞—Å –æ—Å—Ç–∞–ª–æ—Å—å 8 –∑–≤–µ–∑–¥"

### üéâ **–ö—Ä–∞—Å–∏–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞** –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç—ã—Ö alert'–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ** —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
- **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–æ–π
- **–ë—ã—Å—Ç—Ä–∞—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∞** (< 1 —Å–µ–∫—É–Ω–¥—ã)

### üìä **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞**
–°–æ–æ–±—â–µ–Ω–∏—è –≤ GROUP_CHAT_ID —Å–æ–¥–µ—Ä–∂–∞—Ç:
```
üßæ New order
üë§ @username
üì± Telegram ID: 128136200 | @username
üí≥ Card: #1948
‚è±Ô∏è When: Now ‚Äî table 3
üí∞ Payment: cash
üì¶ Items:
‚Ä¢ Espresso √ó3 ‚Äî 450 RSD
‚Äî ‚Äî ‚Äî
üíµ Sum: 450 RSD
‚≠ê –ó–≤–µ–∑–¥ –Ω—É–∂–Ω–æ –Ω–∞—á–∏—Å–ª–∏—Ç—å: 2
```

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **React 18** —Å TypeScript
- **Vite** –¥–ª—è —Å–±–æ—Ä–∫–∏
- **Tailwind CSS** –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- **Telegram Web App API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Backend
- **Google Apps Script** (GAS) –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä
- **Google Sheets** –∫–∞–∫ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Telegram Bot API** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Header/          # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–∞—Ä—Ç–æ–π –∏ –∑–≤–µ–∑–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ Menu/            # –°–µ—Ç–∫–∞ –º–µ–Ω—é –∏ —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Cart/            # –ö–æ—Ä–∑–∏–Ω–∞ –∏ —Ñ–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ OrderConfirmation/ # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ Layout/          # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ hooks/               # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ useTelegramAuth.ts # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram
‚îÇ   ‚îú‚îÄ‚îÄ useLoyalty.ts    # –°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ useCart.ts       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ useApi.ts        # API –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ types/               # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Frontend
```bash
npm install
npm run dev     # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build   # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```

### Backend (Google Apps Script)
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –≤ [Google Apps Script](https://script.google.com)
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏–∑ `gas-main.js`
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Script Properties:
   - `SPREADSHEET_ID` - ID Google Sheets
   - `TELEGRAM_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
   - `GROUP_CHAT_ID` - ID –≥—Ä—É–ø–ø—ã –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - `CASHIER_GROUP_ID` - ID –≥—Ä—É–ø–ø—ã –∫–∞—Å—Å–∏—Ä–æ–≤

### Google Sheets —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Cards**: telegram_id, card_number, username, first_name, created_at
- **Users**: telegram_id, username, card_number, stars, created_at
- **Orders**: order_id, telegram_id, card_number, total, when, table, payment, items_json, created_at
- **StarsLog**: card_number, delta, reason, created_at

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
1. –û—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
3. –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ —Å –≤—ã–±–æ—Ä–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
4. –ü–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞

### –î–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
1. –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö –≤ –≥—Ä—É–ø–ø–µ
2. –í–∏–¥–µ—Ç—å Telegram ID –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Å–≤—è–∑–∏
3. –ù–∞—á–∏—Å–ª—è—Ç—å –∑–≤–µ–∑–¥—ã –≤—Ä—É—á–Ω—É—é: `1948 +3`
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é –∑–≤–µ–∑–¥–∞—Ö

## üìà –°–∏—Å—Ç–µ–º–∞ –∑–≤–µ–∑–¥

**–†–∞—Å—á–µ—Ç –∑–≤–µ–∑–¥**: 1 –∑–≤–µ–∑–¥–∞ –∑–∞ –∫–∞–∂–¥—ã–µ 350 RSD (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö)
- 100-350 RSD = 1 –∑–≤–µ–∑–¥–∞
- 351-700 RSD = 2 –∑–≤–µ–∑–¥—ã
- 701-1050 RSD = 3 –∑–≤–µ–∑–¥—ã

**–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ**: –¢–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üîÑ Changelog Beta v1.0

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚≠ê –°–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–≤–µ–∑–¥ –≤ Header
- üîß –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–µ–∑–¥–∞–º–∏ —á–µ—Ä–µ–∑ Telegram
- üéâ –ö—Ä–∞—Å–∏–≤—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- üì± –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Telegram ID –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã
- üö´ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∑–≤–µ–∑–¥
- üí¨ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–æ–π
- üèó –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å custom hooks

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Beta v1
- **–¢–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∑–≤–µ–∑–¥** - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- **–ö—Ä–∞—Å–∏–≤—ã–π UX** - –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤–º–µ—Å—Ç–æ alert'–æ–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - Telegram ID –¥–ª—è —Å–≤—è–∑–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ RU/SR/EN
- **–ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ** - –æ—Ç–∫–ª–∏–∫ –º–µ–Ω–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ Beta v1.0 –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.

---

**Willow Coffee Order Beta v1.0** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —Å–∏—Å—Ç–µ–º—ã –∑–∞–∫–∞–∑–æ–≤ –∏ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ—è–ª—å–Ω–æ—Å—Ç—å—é.